---
import { getLangFromUrl, useTranslations } from '../utils/i18n';
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Servicios originales (sin ningún cambio)
const services = [
  {
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
    </svg>`,
    title: t('services.automation.title'),
    description: t('services.automation.desc'),
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
    </svg>`,
    title: t('services.analytics.title'),
    description: t('services.analytics.desc'),
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
    </svg>`,
    title: t('services.support.title'),
    description: t('services.support.desc'),
  },
];

// Datos de la sección Technology Stack
const techCore = {
  icon: `<svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
  </svg>`,
  title: "The Core: Universal Artifact Engine (UAE)",
  description: "At the heart of our platform lies the Universal Artifact Engine (UAE). This proprietary AI infrastructure is engineered to transform unstructured conversations into high-value, structured deliverables. By enforcing strict business rules and cognitive guiderails, UAE ensures that every interaction results in a precise 'artifact'—such as a legal document, a logistics quote, or a verified data record—eliminating hallucinations and ensuring enterprise-grade reliability."
};

const specializedModules = [
  {
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>`,
    title: "LUCY | Debt Management Module",
    description: "Lucy is our premier cognitive assistant for portfolio management. Built on the UAE infrastructure, Lucy automatizes the outreach and follow-up process for debt recovery. Her primary objective is to engage in professional, empathetic dialogue to secure Structured Payment Commitments. By capturing specific dates and amounts within defined business parameters, Lucy turns complex collection efforts into actionable financial data without manual intervention."
  },
  {
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
    </svg>`,
    title: "Logistics | Shipping & Estimates Module",
    description: "Our logistics module leverages UAE to streamline the supply chain experience. It interacts with users to gather precise shipping requirements—weight, dimensions, and destination—to instantly generate Formal Cost Estimates. This module ensures that clients receive accurate, real-time artifacts that facilitate immediate decision-making."
  }
];
---

<!-- Sección de Servicios -->
<section id="services" class="section bg-white">
  <div class="container">
    <div class="text-center mb-16">
      <h2 class="text-4xl font-bold text-gray-900 mb-4">{t('services.title')}</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">{t('services.subtitle')}</p>
    </div>
    <div class="grid md:grid-cols-3 gap-8">
      {services.map((service, index) => (
        <div class="card p-8 text-center group hover:scale-105 transition-transform duration-200" style={`animation-delay: ${index * 0.2}s;`}>
          <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-primary-200 transition-colors">
            <div class="text-primary-600" set:html={service.icon} />
          </div>
          <h3 class="text-xl font-semibold text-gray-900 mb-4">{service.title}</h3>
          <p class="text-gray-600">{service.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<!-- Sección Technology Stack – con fondo que contrasta suavemente -->
<section id="technology-stack" class="section bg-gradient-to-b from-gray-100 via-white to-gray-50 py-20 md:py-24">
  <div class="container">
    <div class="text-center mb-16 md:mb-20">
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Our Technology Stack</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Proprietary AI infrastructure turning conversations into precise, enterprise-ready structured deliverables.
      </p>
    </div>

    <div class="space-y-12 md:space-y-16">
      <!-- Core – centrado y un poco más prominente -->
      <div class="max-w-4xl mx-auto">
        <div class="card p-10 md:p-12 text-center group hover:scale-[1.02] transition-all duration-300 bg-white shadow-xl border border-primary-200/50 rounded-2xl">
          <div class="w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-8 group-hover:bg-primary-200 transition-colors">
            <div class="text-primary-600" set:html={techCore.icon} />
          </div>
          <h3 class="text-2xl md:text-3xl font-bold text-gray-900 mb-6">{techCore.title}</h3>
          <p class="text-gray-700 leading-relaxed text-lg max-w-3xl mx-auto">{techCore.description}</p>
        </div>
      </div>

      <!-- Módulos especializados – lado a lado abajo -->
      <div class="grid md:grid-cols-2 gap-8 lg:gap-12 max-w-5xl mx-auto">
        {specializedModules.map((module, index) => (
          <div key={index} class="card p-8 text-center group hover:scale-105 transition-transform duration-200 bg-white shadow-lg border border-gray-200/70 rounded-xl">
            <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:bg-primary-200 transition-colors">
              <div class="text-primary-600" set:html={module.icon} />
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4">{module.title}</h3>
            <p class="text-gray-600 leading-relaxed">{module.description}</p>
          </div>
        ))}
      </div>
    </div>

    <div class="text-center mt-12 pt-4">
      <p class="text-lg text-gray-600 italic">
        All specialized modules are powered by the robust Universal Artifact Engine (UAE)
      </p>
    </div>
  </div>
</section>
